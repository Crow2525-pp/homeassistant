type: vertical-stack
cards:
  - type: markdown
    content: |
      ## ğŸ“… Today's Events
      {{ now().strftime('%A, %B %d, %Y') }}
    card_mod:
      style: |
        ha-card {
          background: transparent;
          box-shadow: none;
          padding: 8px 16px 0px 16px;
        }
        ha-markdown h2 {
          font-size: 1.3em;
          margin: 0;
          font-weight: 500;
        }

  # Phil's Today
  - type: conditional
    conditions:
      - condition: state
        entity: calendar.philip_james_patterson_gmail_com
        state: "on"
    card:
      type: markdown
      content: |
        **{{ state_attr('calendar.philip_james_patterson_gmail_com', 'friendly_name') }}**

        ğŸ“ {{ state_attr('calendar.philip_james_patterson_gmail_com', 'message') }}
        â° {{ state_attr('calendar.philip_james_patterson_gmail_com', 'start_time') | as_timestamp | timestamp_custom('%I:%M %p', true) if state_attr('calendar.philip_james_patterson_gmail_com', 'all_day') == false else 'All Day' }}
        {% if state_attr('calendar.philip_james_patterson_gmail_com', 'location') %}
        ğŸ“Œ {{ state_attr('calendar.philip_james_patterson_gmail_com', 'location') }}
        {% endif %}
      card_mod:
        style: |
          ha-card {
            border-left: 4px solid #4285F4; /* Blue - Google Material Design */
            background-color: rgba(66, 133, 244, 0.05);
            padding: 12px 16px;
            border-radius: 12px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
          }

  # Steph's Today
  - type: conditional
    conditions:
      - condition: state
        entity: calendar.stephanie_louise_patterson_gmail_com
        state: "on"
    card:
      type: markdown
      content: |
        **{{ state_attr('calendar.stephanie_louise_patterson_gmail_com', 'friendly_name') }}**

        ğŸ“ {{ state_attr('calendar.stephanie_louise_patterson_gmail_com', 'message') }}
        â° {{ state_attr('calendar.stephanie_louise_patterson_gmail_com', 'start_time') | as_timestamp | timestamp_custom('%I:%M %p', true) if state_attr('calendar.stephanie_louise_patterson_gmail_com', 'all_day') == false else 'All Day' }}
        {% if state_attr('calendar.stephanie_louise_patterson_gmail_com', 'location') %}
        ğŸ“Œ {{ state_attr('calendar.stephanie_louise_patterson_gmail_com', 'location') }}
        {% endif %}
      card_mod:
        style: |
          ha-card {
            border-left: 4px solid #DB4437; /* Red - Google Material Design */
            background-color: rgba(219, 68, 55, 0.05);
            padding: 12px 16px;
            border-radius: 12px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
          }

  # Family Today
  - type: conditional
    conditions:
      - condition: state
        entity: calendar.family_2
        state: "on"
    card:
      type: markdown
      content: |
        **{{ state_attr('calendar.family_2', 'friendly_name') }}**

        ğŸ“ {{ state_attr('calendar.family_2', 'message') }}
        â° {{ state_attr('calendar.family_2', 'start_time') | as_timestamp | timestamp_custom('%I:%M %p', true) if state_attr('calendar.family_2', 'all_day') == false else 'All Day' }}
        {% if state_attr('calendar.family_2', 'location') %}
        ğŸ“Œ {{ state_attr('calendar.family_2', 'location') }}
        {% endif %}
      card_mod:
        style: |
          ha-card {
            border-left: 4px solid #F4B400; /* Yellow - Google Material Design */
            background-color: rgba(244, 180, 0, 0.05);
            padding: 12px 16px;
            border-radius: 12px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
          }

  # Steph Work Today
  - type: conditional
    conditions:
      - condition: state
        entity: calendar.slvandenhoff_gmail_com
        state: "on"
    card:
      type: markdown
      content: |
        **Steph Work Calendar**

        ğŸ“ {{ state_attr('calendar.slvandenhoff_gmail_com', 'message') }}
        â° {{ state_attr('calendar.slvandenhoff_gmail_com', 'start_time') | as_timestamp | timestamp_custom('%I:%M %p', true) if state_attr('calendar.slvandenhoff_gmail_com', 'all_day') == false else 'All Day' }}
        {% if state_attr('calendar.slvandenhoff_gmail_com', 'location') %}
        ğŸ“Œ {{ state_attr('calendar.slvandenhoff_gmail_com', 'location') }}
        {% endif %}
      card_mod:
        style: |
          ha-card {
            border-left: 4px solid #0F9D58; /* Green - Google Material Design */
            background-color: rgba(15, 157, 88, 0.05);
            padding: 12px 16px;
            border-radius: 12px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
          }

  # No events message
  - type: conditional
    conditions:
      - condition: and
        conditions:
          - condition: state
            entity: calendar.philip_james_patterson_gmail_com
            state: "off"
          - condition: state
            entity: calendar.stephanie_louise_patterson_gmail_com
            state: "off"
          - condition: state
            entity: calendar.family_2
            state: "off"
          - condition: state
            entity: calendar.slvandenhoff_gmail_com
            state: "off"
    card:
      type: markdown
      content: |
        *No events scheduled for today* ğŸ‰
      card_mod:
        style: |
          ha-card {
            text-align: center;
            padding: 24px;
            background-color: rgba(0, 0, 0, 0.02);
            border-radius: 12px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
          }
