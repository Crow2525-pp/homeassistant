type: vertical-stack
cards:
# Washer Column
- type: heading
  heading_style: title
  heading: "Laundry Monitor"
  badges:
    - type: entity
      entity: input_boolean.washing_machine_on
      name: "Washer"
      icon: mdi:washing-machine
      show_state: true
      state_content:
      color: state # Dynamic color based on ON/OFF
      tap_action:
        action: more-info # Opens more info for the washer

    - type: entity
      entity: sensor.washing_machine_estimated_remaining
      name: "Time Remaining"
      icon: mdi:clock-outline
      show_state: true
      color: var(--google-blue) # Blue - Google Material Design
      tap_action:
        action: more-info

    - type: entity
      entity: sensor.washing_machine_power_plug_power
      name: "Power Usage"
      icon: mdi:flash
      show_state: true
      color: var(--google-yellow) # Yellow - Google Material Design
      tap_action:
        action: more-info

- type: conditional
  conditions:
    - entity: sensor.washing_machine_estimated_remaining
      state_not: "0"
  card:
    type: custom:bar-card
    entity: sensor.washing_machine_estimated_remaining
    title: "Washer Time Remaining"
    min: 0
    max: 50
    icon: mdi:washing-machine
    positions:
      icon: outside
      name: outside
      value: inside
    background_style: "linear-gradient(90deg, rgba(79, 70, 229,1) 0%, rgba(79, 70, 229,1) 100%)"
    state_display: |
      [[[
        let time = parseFloat(entity.state);
        if (isNaN(time) || time <= 0) return "Not Running";
        return time + " min";
      ]]]

- type: heading
  heading: "Washer Stats"
  heading_style: subtitle

- type: grid
  columns: 2
  square: false
  cards:
    - type: tile
      entity: sensor.washing_machine_power_plug_current
      name: "Current Usage"
      card_mod:
        style: |
          ha-card {
            background: linear-gradient(145deg, #4F46E5 0%, #3730A3 100%);
            color: white;
            border-radius: 12px;
            box-shadow: 0 8px 16px rgba(79, 70, 229, 0.3);
            border: none;
            transition: all 0.3s ease;
          }
          ha-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 24px rgba(79, 70, 229, 0.4);
          }
          ha-tile-icon {
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0,0.2));
          }
    - type: tile
      entity: sensor.washing_machine_power_plug_power
      name: "Power Consumption"
      card_mod:
        style: |
          ha-card {
            background: linear-gradient(145deg, #4F46E5 0%, #3730A3 100%);
            color: white;
            border-radius: 12px;
            box-shadow: 0 8px 16px rgba(79, 70, 229, 0.3);
            border: none;
            transition: all 0.3s ease;
          }
          ha-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 24px rgba(79, 70, 229, 0.4);
          }
          ha-tile-icon {
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0,0.2));
          }
    - type: tile
      entity: sensor.washing_machine_power_plug_summation_delivered
      name: "Total Energy Used"
      card_mod:
        style: |
          ha-card {
            background: linear-gradient(145deg, #4F46E5 0%, #3730A3 100%);
            color: white;
            border-radius: 12px;
            box-shadow: 0 8px 16px rgba(79, 70, 229, 0.3);
            border: none;
            transition: all 0.3s ease;
          }
          ha-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 24px rgba(79, 70, 229, 0.4);
          }
          ha-tile-icon {
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0,0.2));
          }
    - type: tile
      entity: sensor.washing_machine_power_plug_voltage
      name: "Voltage"
      card_mod:
        style: |
          ha-card {
            background: linear-gradient(145deg, #4F46E5 0%, #3730A3 100%);
            color: white;
            border-radius: 12px;
            box-shadow: 0 8px 16px rgba(79, 70, 229, 0.3);
            border: none;
            transition: all 0.3s ease;
          }
          ha-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 24px rgba(79, 70, 229, 0.4);
          }
          ha-tile-icon {
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0,0.2));
          }
    - type: tile
      entity: sensor.washing_machine_estimated_remaining
      name: "Time Left (Est.)"
      card_mod:
        style: |
          ha-card {
            background: linear-gradient(145deg, #4F46E5 0%, #3730A3 100%);
            color: white;
            border-radius: 12px;
            box-shadow: 0 8px 16px rgba(79, 70, 229, 0.3);
            border: none;
            transition: all 0.3s ease;
          }
          ha-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 24px rgba(79, 70, 229, 0.4);
          }
          ha-tile-icon {
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0,0.2));
          }

- type: history-graph
  title: "Washer Power History"
  entities:
    - entity: sensor.washing_machine_power_plug_power
      name: "Power Consumption"
    - entity: sensor.washing_machine_power_plug_current
      name: "Current Usage"
    - entity: sensor.washing_machine_power_plug_voltage
      name: "Voltage"
  hours_to_show: 6
  refresh_interval: 30
  card_mod:
    style: |
      ha-card {
        border-radius: 12px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
      }
      ha-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
      }

- type: statistics-graph
  title: "Laundry Energy Usage (Last 24h)"
  entities:
    - entity: sensor.washing_machine_power_plug_power
      name: "Power Consumption"
  days_to_show: 1
  stat_types: mean
  chart_type: line
  card_mod:
    style: |
      ha-card {
        border-radius: 12px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
      }
      ha-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
      }


#TODO: Fix Washer is done Automation